@model IEnumerable<qlcdvien.Models.User>

@using (Html.BeginForm())
{
    @Html.Label("Tìm theo cấp CĐ:")
    @Html.DropDownList("ListItem")
    @*@Html.DropDownList("Gender", new List<SelectListItem>{
        new SelectListItem{ Text="Male", Value="Male"},
        new SelectListItem{ Text="Female", Value="Female"}
        }, "--- Sex ---"
        )*@


    <br />
    @Html.Label("Tìm theo độ tuổi: từ ")

    @Html.TextBox("SearchString2", ViewBag.CurrentFilter2 as string, new { style = "height: 25px;width: 100px;" })

    @Html.Label(" đến ")

    @Html.TextBox("SearchString3", ViewBag.CurrentFilter3 as string, new { style = "height: 25px;width: 100px;" })
    <button type="submit">
        <i class="ace-icon fa fa-check bigger-110"></i>
        Tìm kiếm
    </button>
    <div class="clearfix">
        <div class="pull-right tableTools-container"></div>
    </div>
}
<div>
    Ẩn/ hiện cột: <a class="toggle-vis" data-column="	0	">	@Html.DisplayNameFor(model => model.CapCongDoan.name)	</a> -
    <a class="toggle-vis" data-column="	1	">	@Html.DisplayNameFor(model => model.name)	</a> -
    <a class="toggle-vis" data-column="	2	">	@Html.DisplayNameFor(model => model.DOB)	</a> -
    <a class="toggle-vis" data-column="	3	">	@Html.DisplayNameFor(model => model.sex)	</a> -
    <a class="toggle-vis" data-column="	4	">	@Html.DisplayNameFor(model => model.noisinh)	</a> -
    <a class="toggle-vis" data-column="	5	">	@Html.DisplayNameFor(model => model.quequan)	</a> -
    <a class="toggle-vis" data-column="	6	">	@Html.DisplayNameFor(model => model.nangkhieu)	</a> -
    <a class="toggle-vis" data-column="	7	">	@Html.DisplayNameFor(model => model.hanche)	</a> -
    <a class="toggle-vis" data-column="	8	">	@Html.DisplayNameFor(model => model.HKTT)	</a> -
    <a class="toggle-vis" data-column="	9	">	@Html.DisplayNameFor(model => model.tamtru)	</a> -
    <a class="toggle-vis" data-column="	10	">	@Html.DisplayNameFor(model => model.chucvuChinhquyen)	</a> -
    <a class="toggle-vis" data-column="	11	">	@Html.DisplayNameFor(model => model.chucvuDoanthe)	</a> -
    <a class="toggle-vis" data-column="	12	">	@Html.DisplayNameFor(model => model.vanhoa)	</a> -
    <a class="toggle-vis" data-column="	13	">	@Html.DisplayNameFor(model => model.chuyenmon)	</a> -
    <a class="toggle-vis" data-column="	14	">	@Html.DisplayNameFor(model => model.hocvi)	</a> -
    <a class="toggle-vis" data-column="	15	">	@Html.DisplayNameFor(model => model.hocham)	</a> -
    <a class="toggle-vis" data-column="	16	">	@Html.DisplayNameFor(model => model.tinhoc)	</a> -
    <a class="toggle-vis" data-column="	17	">	@Html.DisplayNameFor(model => model.ngoaingu)	</a> -
    <a class="toggle-vis" data-column="	18	">	@Html.DisplayNameFor(model => model.imageurl)	</a> -
    <a class="toggle-vis" data-column="	19	">	@Html.DisplayNameFor(model => model.tongiao)	</a> -
    <a class="toggle-vis" data-column="	20	">	@Html.DisplayNameFor(model => model.dantoc)	</a> -
    <a class="toggle-vis" data-column="	21	">	@Html.DisplayNameFor(model => model.cmnd)	</a> -
    <a class="toggle-vis" data-column="	22	">	@Html.DisplayNameFor(model => model.noicapcmnd)	</a> -
    <a class="toggle-vis" data-column="	23	">	@Html.DisplayNameFor(model => model.ngaycapcmnd)	</a> -
    <a class="toggle-vis" data-column="	24	">	@Html.DisplayNameFor(model => model.truongcongdoanbophan)	</a> -
    <a class="toggle-vis" data-column="	25	">	@Html.DisplayNameFor(model => model.truonglopdaotao)	</a> -
</div>


<table id="example" class="display" style="width:100%">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.CapCongDoan.name)
            </th>


            <th>
                @Html.DisplayNameFor(model => model.name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.DOB)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.sex)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.noisinh)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.quequan)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.nangkhieu)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.hanche)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.HKTT)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.tamtru)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.chucvuChinhquyen)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.chucvuDoanthe)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.vanhoa)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.chuyenmon)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.hocvi)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.hocham)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.tinhoc)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ngoaingu)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.imageurl)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.tongiao)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.dantoc)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.cmnd)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.noicapcmnd)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ngaycapcmnd)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.truongcongdoanbophan)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.truonglopdaotao)
            </th>

            <th></th>
        </tr>
    </thead>
    <tfoot>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.CapCongDoan.name)
            </th>


            <th>
                @Html.DisplayNameFor(model => model.name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.DOB)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.sex)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.noisinh)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.quequan)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.nangkhieu)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.hanche)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.HKTT)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.tamtru)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.chucvuChinhquyen)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.chucvuDoanthe)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.vanhoa)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.chuyenmon)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.hocvi)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.hocham)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.tinhoc)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ngoaingu)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.imageurl)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.tongiao)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.dantoc)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.cmnd)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.noicapcmnd)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ngaycapcmnd)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.truongcongdoanbophan)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.truonglopdaotao)
            </th>

            <th></th>
        </tr>
    </tfoot>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>

                <td>
                    @Html.DisplayFor(modelItem => item.CapCongDoan.name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DOB)
                </td>
                <td>
                    @Html.DisplayTextFor(modelItem => item.sex)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.noisinh)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.quequan)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.nangkhieu)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.hanche)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.HKTT)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.tamtru)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.chucvuChinhquyen)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.chucvuDoanthe)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.vanhoa)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.chuyenmon)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.hocvi)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.hocham)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.tinhoc)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ngoaingu)
                </td>
                <td>
                    <img src="@item.imageurl" alt="" height=150 width=100 />
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.tongiao)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.dantoc)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.cmnd)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.noicapcmnd)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ngaycapcmnd)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.truongcongdoanbophan)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.truonglopdaotao)
                </td>

                <td>
                    @Html.ActionLink("Sửa", "Edit", new { id = item.Id }) |
                    @Html.ActionLink("Chi tiết", "Details", new { id = item.Id }) |
                    @Html.ActionLink("Xóa", "Delete", new { id = item.Id })
                </td>
            </tr>
        }
    </tbody>
</table>

@section scripts{
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>



    <script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
    <link href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css" rel="stylesheet" />

    <link href="https://cdn.datatables.net/buttons/1.4.2/css/buttons.dataTables.min.css" rel="stylesheet" />

    <script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.4.2/js/dataTables.buttons.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.4.2/js/buttons.flash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/vfs_fonts.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.4.2/js/buttons.html5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.4.2/js/buttons.print.min.js"></script>
    <style>
        tfoot input {
            width: 100%;
            padding: 3px;
            box-sizing: border-box;
        }
    </style>
    <script type="text/javascript">
        $(document).ready(function () {
            // Setup - add a text input to each footer cell
            $('#example tfoot th').each(function () {
                var title = $(this).text();
                $(this).html('<input type="text" placeholder="Search ' + title + '" />');
            });





            var table = $('#example').DataTable({
                //"scrollY": "200px",
                "paging": true,

                dom: 'Bfrtip',
                buttons: [{
                    extend: 'excel',
                    text: 'Save to Excel',
                    filename: 'Data export', exportOptions: {
                        columns: ':visible'
                    }
                }, {
                    extend: 'pdf',
                    text: 'Save to PDF',
                    filename: 'Data export', exportOptions: {
                        columns: ':visible'
                    }
                }, {
                    extend: 'print',
                    text: 'Print',
                    filename: 'Data export',
                    exportOptions: {
                        columns: ':visible'
                    }
                },]
            });

            // Apply the search
            table.columns().every(function () {
                var that = this;

                $('input', this.footer()).on('keyup change', function () {
                    if (that.search() !== this.value) {
                        that
                            .search(this.value)
                            .draw();
                    }
                });
            });

            table.columns([4, 5, 6, 7, 9, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]).visible(false);



            $('a.toggle-vis').on('click', function (e) {
                e.preventDefault();

                // Get the column API object
                var column = table.column($(this).attr('data-column'));

                // Toggle the visibility
                column.visible(!column.visible());
            });
        });
    </script>
}